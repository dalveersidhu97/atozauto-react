import{S as a,d as i}from"./comparison.utils.08c82949.js";import{s as c,I as l,h as f,b as u,j as p}from"./content.utils.1be2cea8.js";const m=()=>{let r=document.querySelector('svg[data-test-id="VtoLandingPage_Spinner"]');return r||(r=document.querySelector('svg[data-test-id="FindShiftsPageLoadingSpinner"]')),r?!1:(console.log("LOADED"),!0)},v=r=>{console.clear();let n;(()=>{chrome.storage.local.get(a.preference,function(o){if((o.preference||{}).refreshMode!=="Off"){l.add(()=>u("Loading..."));const e=10*1e3;n=setTimeout(()=>{window.location.reload(),p(e)},e)}})})(),setTimeout(()=>!!c&&c(),100),setInterval(()=>{const o=document.querySelector('div[aria-describedby="sr-session-expires-modal-message"]');if(!o)return;if(window.getComputedStyle(o).display!=="none"){const e=o.querySelector("#session-expires-modal-btn-stay-in");e==null||e.click(),o.style.display="none",console.log("modal is visible")}},300);const d=setInterval(()=>{m()&&(l.add(()=>f(" ")),n&&clearTimeout(n),clearInterval(d),chrome.storage.local.get(a.preference,function(t){const e=t.preference||i;Object.keys(i).forEach(s=>{e[s]===void 0&&(e[s]=i[s])}),r(e)}),document.querySelector('div[data-test-id="GenericErrorPageLayout"]')&&setTimeout(()=>window.location.reload(),2e3))},100)};export{v as s};
